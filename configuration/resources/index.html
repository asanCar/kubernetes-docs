


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.4.0">
    
    
      
        <title>Gestionar recursos de los Containers - Apuntes CKA-CKAD</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fe0cca5b.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gestionar-recursos-de-los-containers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Apuntes CKA-CKAD" class="md-header-nav__button md-logo" aria-label="Apuntes CKA-CKAD">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Apuntes CKA-CKAD
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Gestionar recursos de los Containers
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Apuntes CKA-CKAD" class="md-nav__button md-logo" aria-label="Apuntes CKA-CKAD">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Apuntes CKA-CKAD
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Componentes Kubernetes
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Componentes Kubernetes" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Componentes Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../components/components/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../components/control-components/" title="Componentes del Control Plane" class="md-nav__link">
      Componentes del Control Plane
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../components/node-components/" title="Componentes de los Nodos" class="md-nav__link">
      Componentes de los Nodos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Objetos Kubernetes
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Objetos Kubernetes" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Objetos Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../objects/objects/" title="Gestión de objetos Kubernetes" class="md-nav__link">
      Gestión de objetos Kubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../objects/containers/" title="Containers" class="md-nav__link">
      Containers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Workloads
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Workloads" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Workloads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../objects/pods/" title="Pods" class="md-nav__link">
      Pods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../objects/controllers/" title="Controllers" class="md-nav__link">
      Controllers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Networking
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Networking" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Networking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/service/" title="Service" class="md-nav__link">
      Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/endpoint/" title="EndpointSlices" class="md-nav__link">
      EndpointSlices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/dns/" title="DNS" class="md-nav__link">
      DNS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/kube-proxy/" title="kube-proxy" class="md-nav__link">
      kube-proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/ingress/" title="Ingress" class="md-nav__link">
      Ingress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/policies/" title="Network Policies" class="md-nav__link">
      Network Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Storage
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Storage" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Storage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/volumes/" title="Volumes" class="md-nav__link">
      Volumes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/persistent-volume/" title="Persistent Volume & Claim" class="md-nav__link">
      Persistent Volume & Claim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/storage-classes/" title="Storage Classes" class="md-nav__link">
      Storage Classes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Configuración
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Configuración" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Configuración
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../best-practices/" title="Best Practices" class="md-nav__link">
      Best Practices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../configmap/" title="ConfigMap" class="md-nav__link">
      ConfigMap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../secret/" title="Secret" class="md-nav__link">
      Secret
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Gestionar recursos de los Containers
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Gestionar recursos de los Containers" class="md-nav__link md-nav__link--active">
      Gestionar recursos de los Containers
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tipos-de-recursos" class="md-nav__link">
    Tipos de recursos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scheduling" class="md-nav__link">
    Scheduling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-limits" class="md-nav__link">
    Resource Limits
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#almacenamiento-efimero-local" class="md-nav__link">
    Almacenamiento efímero local
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requests-y-limits-para-initcontainers" class="md-nav__link">
    Requests y Limits para initContainers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quality-of-service-qos" class="md-nav__link">
    Quality of Service (QoS)
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pod-overhead/" title="Pod Overhead" class="md-nav__link">
      Pod Overhead
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../priority/" title="Prioridad de los Pods y Apropiación" class="md-nav__link">
      Prioridad de los Pods y Apropiación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kubeconfig/" title="Configurar context del cluster" class="md-nav__link">
      Configurar context del cluster
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Policies
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Policies" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Policies
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/limit-ranges/" title="Limit Ranges" class="md-nav__link">
      Limit Ranges
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/resource-quota/" title="Resource Quotas" class="md-nav__link">
      Resource Quotas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/security-policies/" title="Pod Security Policies" class="md-nav__link">
      Pod Security Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Security
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Security" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Security
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/cloud-security/" title="Cloud Native Security" class="md-nav__link">
      Cloud Native Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/service-account/" title="ServiceAccount" class="md-nav__link">
      ServiceAccount
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/rbac/" title="RBAC" class="md-nav__link">
      RBAC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/security-context/" title="Security Context" class="md-nav__link">
      Security Context
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Scheduling & Eviction
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Scheduling & Eviction" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Scheduling & Eviction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../scheduling/scheduler/" title="Kubernetes Scheduler" class="md-nav__link">
      Kubernetes Scheduler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../scheduling/taints-tolerations/" title="Taints & Tolerations" class="md-nav__link">
      Taints & Tolerations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../scheduling/assign-pods/" title="Asignar Pods a nodos" class="md-nav__link">
      Asignar Pods a nodos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../CKA" title="Cluster Administration" class="md-nav__link">
      Cluster Administration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Monitorización y Debugging
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Monitorización y Debugging" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Monitorización y Debugging
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/debugging/" title="Debugging" class="md-nav__link">
      Debugging
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Comandos kubectl
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Comandos kubectl" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Comandos kubectl
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../kubectl/imperative/" title="Creación imperativa de recursos" class="md-nav__link">
      Creación imperativa de recursos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../kubectl/edit-patch/" title="Editar/Actualizar recursos" class="md-nav__link">
      Editar/Actualizar recursos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../other/json-path/" title="JSON Path" class="md-nav__link">
      JSON Path
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tipos-de-recursos" class="md-nav__link">
    Tipos de recursos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scheduling" class="md-nav__link">
    Scheduling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-limits" class="md-nav__link">
    Resource Limits
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#almacenamiento-efimero-local" class="md-nav__link">
    Almacenamiento efímero local
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requests-y-limits-para-initcontainers" class="md-nav__link">
    Requests y Limits para initContainers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quality-of-service-qos" class="md-nav__link">
    Quality of Service (QoS)
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="gestionar-recursos-de-los-containers">Gestionar recursos de los Containers</h1>
<p>Cuando se define un Pod, existe la posibilidad de reservar recursos (CPU,
RAM...) del nodo para cada uno de los contenedores del Pod, o limitar el uso
máximo que pueda consumir cada contenedor.</p>
<p>Esto se consigue especificando un <em>resource request</em> en la definición del
contenedor para reservar los recursos que vaya a necesitar, y un <em>resource
limit</em> para limitar el uso máximo de recursos que pueda utilizar. </p>
<p>Es decir, el <strong>kubelet</strong> reservará para el contenedor, tantos recursos del nodo
como se haya especificado en el <em>resource request</em>, pudiendo utilizar más si el
nodo tiene recursos disponibles, pero sin llegar a sobrepasar el <em>resource
limit</em> (si se ha definido uno).</p>
<h2 id="tipos-de-recursos">Tipos de recursos</h2>
<p>Se pueden reservar/limitar los siguientes recursos:</p>
<ul>
<li>
<p><strong>CPU</strong>: Cantidad de CPU del nodo que se puede consumir. Se mide en unidades
  <em>cpu</em>, que equivale a las unidades vCPU de los proveedores Cloud. Siempre se
  especifica en valores absolutos, que pueden ser fracciones. Por ejemplo <code>0.1</code>
  (o lo que es lo mismo <code>100m</code>).</p>
<p>Las stanzas a definir en el Pod son:</p>
<ul>
<li><code>spec.containers[].resources.limits.cpu</code></li>
<li><code>spec.containers[].resources.requests.cpu</code></li>
</ul>
</li>
<li>
<p><strong>Memoria RAM</strong>: Cantidad de memoria RAM del nodo que se puede consumir,
  medida en bytes. Se puede especificar en unidades base 10 (p.ej. 1K=1000
  bytes) o en unidades base 2 (p.ej. 1Ki=1024 bytes).</p>
<p>Las stanzas a definir en el Pod son:</p>
<ul>
<li><code>spec.containers[].resources.limits.memory</code></li>
<li><code>spec.containers[].resources.requests.memory</code>     </li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si se especifica un <em>limit</em> pero no un <em>request</em>, por defecto se le asigna
al contenedor, un <em>request</em> igual a su <em>limit</em>.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Ejemplo</p>
<p>Pese a que los recursos se especifican por contenedor, se podría decir que
el Pod de este ejemplo tiene una <em>request</em> de 0.5 cpu y 128MiB de memoria, y un <em>limit</em>
de 1 cpu y 256MiB de memoria:
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">frontend</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">app</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">images.my-company.example/app:v4</span>
    <span class="nt">resources</span><span class="p">:</span>
      <span class="nt">requests</span><span class="p">:</span>
        <span class="nt">memory</span><span class="p">:</span> <span class="s">&quot;64Mi&quot;</span>
        <span class="nt">cpu</span><span class="p">:</span> <span class="s">&quot;250m&quot;</span>
      <span class="nt">limits</span><span class="p">:</span>
        <span class="nt">memory</span><span class="p">:</span> <span class="s">&quot;128Mi&quot;</span>
        <span class="nt">cpu</span><span class="p">:</span> <span class="s">&quot;500m&quot;</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">log-aggregator</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">images.my-company.example/log-aggregator:v6</span>
    <span class="nt">resources</span><span class="p">:</span>
      <span class="nt">requests</span><span class="p">:</span>
        <span class="nt">memory</span><span class="p">:</span> <span class="s">&quot;64Mi&quot;</span>
        <span class="nt">cpu</span><span class="p">:</span> <span class="s">&quot;250m&quot;</span>
      <span class="nt">limits</span><span class="p">:</span>
        <span class="nt">memory</span><span class="p">:</span> <span class="s">&quot;128Mi&quot;</span>
        <span class="nt">cpu</span><span class="p">:</span> <span class="s">&quot;500m&quot;</span>
</code></pre></div></p>
</div>
<h2 id="scheduling">Scheduling</h2>
<p>El <strong>Scheduler</strong> toma en consideración los <em>request</em> de los contenedores de un
Pod a la hora de decidir en qué nodo debe alojar el Pod. Tomará la suma de
<em>requests</em> de sus contenedores y sólo permitirá desplegar el Pod en un nodo con
los suficientes recursos para alojar todos sus contenedores.</p>
<h2 id="resource-limits"><em>Resource Limits</em></h2>
<p>Cuando el <strong>kubelet</strong> inicia un contenedor de un Pod, le pasa los límites de CPU
y memoria definidos, al Container Runtime.</p>
<p>Si un contenedor excede el límite de memoria, será finalizado. A continuación,
si está configurado para ello, el <strong>kubelet</strong> reiniciará el contenedor.</p>
<p>Si un contenedor excede su <em>request</em> de memoria, es probable que si el nodo se
queda sin memoria, desaloje el Pod de ese nodo.</p>
<p>Por otro lado, un contenedor nunca se eliminará por un uso excesivo de CPU, en
ese caso se limitará el uso que puede hacer de la CPU (CPU throttling).</p>
<h2 id="almacenamiento-efimero-local">Almacenamiento efímero local</h2>
<p>Existen diferentes tipos de almacenamiento efímero que Kubernetes almacena de
forma local a los nodos del cluster (Volumes <code>emptyDir</code> que no sean de tipo
<code>tmpfs</code>, container images, capas con permisos de escritura de los contenedores,
logs).</p>
<p>Este tipo de almacenamiento también se puede reservar/limitar para los
contenedores mediante las siguientes stanzas.</p>
<ul>
<li><code>spec.containers[].resources.limits.ephemeral-storage</code></li>
<li><code>spec.containers[].resources.requests.ephemeral-storage</code></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Notas</p>
<ul>
<li>Cada nodo tiene una capacidad máxima de almacenamiento que puedo dedicar
al almacenamiento efímero de los Pods. El <strong>Scheduler</strong> se asegura que el
nodo que elija para un Pod, tiene almacenamiento suficiente para cubrir la suma de todos
los <em>request</em> de sus contenedores.</li>
<li>Si la capa de escritura de un contenedor y el uso de logs excede el límite
de almacenamiento, el <strong>kubelet</strong> desalojará el Pod al que pertenece.</li>
<li>Si el Pod utiliza más almacenamiento efímero del permitido (sumando el
almacenamiento efímero de todos sus contenedores y los volúmenes <code>emptyDir</code>), el <strong>kubelet</strong>
lo desalojará.</li>
<li>Si el <strong>kubelet</strong> no se encarga de medir el almacenamiento efímero local,
no habrá desalojo de Pods. Aun así, si el nodo detecta que queda poco espacio del
sistema de ficheros reservado para capas de escritura de los
contenedores, logs o volúmenes <code>emptyDir</code>, se aplicará un
<strong>taint</strong> sobre el nodo y se disparará un desalojo para todo Pod que no
admita el <strong>taint</strong>.</li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Si una aplicación abre un fichero de un volúmen <code>emptyDir</code> y posteriormente
el fichero se elimina, el <strong>kubelet</strong> considerará ese espacio como en
desuso, pero el <em>inode</em> seguirá existiendo.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Ejemplo</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">frontend</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">app</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">images.my-company.example/app:v4</span>
    <span class="nt">resources</span><span class="p">:</span>
      <span class="nt">requests</span><span class="p">:</span>
        <span class="nt">ephemeral-storage</span><span class="p">:</span> <span class="s">&quot;2Gi&quot;</span>
      <span class="nt">limits</span><span class="p">:</span>
        <span class="nt">ephemeral-storage</span><span class="p">:</span> <span class="s">&quot;4Gi&quot;</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">log-aggregator</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">images.my-company.example/log-aggregator:v6</span>
    <span class="nt">resources</span><span class="p">:</span>
      <span class="nt">requests</span><span class="p">:</span>
        <span class="nt">ephemeral-storage</span><span class="p">:</span> <span class="s">&quot;2Gi&quot;</span>
      <span class="nt">limits</span><span class="p">:</span>
        <span class="nt">ephemeral-storage</span><span class="p">:</span> <span class="s">&quot;4Gi&quot;</span>
</code></pre></div>

</div>
<h2 id="requests-y-limits-para-initcontainers"><em>Requests</em> y <em>Limits</em> para <strong>initContainers</strong></h2>
<p>También se pueden definir <em>requests</em> y <em>limits</em> en los <strong>initContainers</strong> de los
Pods. </p>
<p>Dado que este tipo de contenedores no coexisten con los contenedores de
aplicaciones, y que se ejecutan en orden, se aplican las siguientes reglas:</p>
<ul>
<li>El mayor <em>request/limit</em> de cada recurso de entre los <strong>initContainers</strong> serán
  los <em>init request/limit</em> "efectivos".</li>
<li>Los <em>request/limit</em> "efectivos" de un Pod serán los mayores entre:<ul>
<li>La suma de todos los <em>request/limit</em> de los contenedores de aplicaciones.</li>
<li>Los <em>init request/limit</em> "efectivos".</li>
</ul>
</li>
<li>El <strong>Scheduler</strong> utiliza los <em>request</em> "efectivos" del Pod, por lo que los
  <strong>initContainer</strong> pueden forzar a reservar más recursos de los que van a
  utilizarse en tiempo de ejecución de las aplicaciones.</li>
</ul>
<h2 id="quality-of-service-qos">Quality of Service (QoS)</h2>
<p>En función de los <em>request/limit</em> que se definan en un Pod, se les asigna una
clase de <strong>QoS</strong> u otra, pra indicar si los recursos están garantizados o no.</p>
<p>Existen tres clases de <strong>Qos</strong>:</p>
<ul>
<li><strong>Guaranteed</strong>: Cuando los <em>limits</em> son igual a los <em>request</em>. Esto significa
  que se garantiza que los contenedores siempre van a disponer de sus recursos.
  Se consideran los contenedores de mayor prioridad y solo son eliminados si
  superan su <em>limit</em> de memoria o el nodo se queda sin memoria y no hay
  contenedores de menor prioridad para eliminar.</li>
<li><strong>Burstable</strong>: Cuando los <em>limits</em> son superiores a los <em>request</em>. Esto
  significa que se reservan unos recursos para los contenedores, y si el nodo
  tiene recursos disponibles adicionales, los contenedores podrán hacer uso de
  ellos, siempre que no superen los <em>limits</em> definidos. No se garantiza que el
  contenedor pueda hacer uso de esos recursos adicionales. Si se consume más
  memoria que la definida en la <em>request</em> y se requieren recursos para otros
  contenedores, es posible que se destruyan los contenedores para liberar
  memoria. Si el nodo se quedara sin memoria, se eliminarían estos contenedores
  si no quedan otros contenedores con QoS <strong>BestEffort</strong> por eliminar.</li>
<li><strong>Best-Effort</strong>. Cuando no hay <em>limits</em> ni <em>requests</em> definidos. Pueden
  consumir todos los recursos disponibles del nodo. Por otro lado, son los
  primeros en ser eliminados cuando el nodo se queda sin memoria. Se consideran
  contenedores con poca prioridad.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../secret/" title="Secret" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Secret
              </div>
            </div>
          </a>
        
        
          <a href="../pod-overhead/" title="Pod Overhead" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Pod Overhead
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.b39636ac.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>