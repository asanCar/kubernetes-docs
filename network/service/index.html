


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.4.0">
    
    
      
        <title>Service - Apuntes CKA-CKAD</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fe0cca5b.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#service" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Apuntes CKA-CKAD" class="md-header-nav__button md-logo" aria-label="Apuntes CKA-CKAD">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Apuntes CKA-CKAD
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Service
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Apuntes CKA-CKAD" class="md-nav__button md-logo" aria-label="Apuntes CKA-CKAD">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Apuntes CKA-CKAD
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Componentes Kubernetes
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Componentes Kubernetes" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Componentes Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../components/components/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../components/control-components/" title="Componentes del Control Plane" class="md-nav__link">
      Componentes del Control Plane
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../components/node-components/" title="Componentes de los Nodos" class="md-nav__link">
      Componentes de los Nodos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Objetos Kubernetes
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Objetos Kubernetes" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Objetos Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../objects/objects/" title="Gestión de objetos Kubernetes" class="md-nav__link">
      Gestión de objetos Kubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../objects/containers/" title="Containers" class="md-nav__link">
      Containers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Workloads
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Workloads" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Workloads
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../objects/pods/" title="Pods" class="md-nav__link">
      Pods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../objects/controllers/" title="Controllers" class="md-nav__link">
      Controllers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Networking
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Networking" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Networking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Service
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Service" class="md-nav__link md-nav__link--active">
      Service
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tipos-de-service" class="md-nav__link">
    Tipos de Service
  </a>
  
    <nav class="md-nav" aria-label="Tipos de Service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clusterip" class="md-nav__link">
    ClusterIP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeport" class="md-nav__link">
    NodePort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loadbalancer" class="md-nav__link">
    LoadBalancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#externalname" class="md-nav__link">
    ExternalName
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#headless-service" class="md-nav__link">
    Headless Service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-discovery" class="md-nav__link">
    Service Discovery
  </a>
  
    <nav class="md-nav" aria-label="Service Discovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variables-de-entorno" class="md-nav__link">
    Variables de entorno
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    DNS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-topology" class="md-nav__link">
    Service Topology
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../endpoint/" title="EndpointSlices" class="md-nav__link">
      EndpointSlices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dns/" title="DNS" class="md-nav__link">
      DNS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kube-proxy/" title="kube-proxy" class="md-nav__link">
      kube-proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ingress/" title="Ingress" class="md-nav__link">
      Ingress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../policies/" title="Network Policies" class="md-nav__link">
      Network Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Storage
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Storage" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Storage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/volumes/" title="Volumes" class="md-nav__link">
      Volumes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/persistent-volume/" title="Persistent Volume & Claim" class="md-nav__link">
      Persistent Volume & Claim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/storage-classes/" title="Storage Classes" class="md-nav__link">
      Storage Classes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Configuración
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Configuración" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Configuración
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/best-practices/" title="Best Practices" class="md-nav__link">
      Best Practices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/configmap/" title="ConfigMap" class="md-nav__link">
      ConfigMap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/secret/" title="Secret" class="md-nav__link">
      Secret
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/resources/" title="Gestionar recursos de los Containers" class="md-nav__link">
      Gestionar recursos de los Containers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/pod-overhead/" title="Pod Overhead" class="md-nav__link">
      Pod Overhead
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/priority/" title="Prioridad de los Pods y Apropiación" class="md-nav__link">
      Prioridad de los Pods y Apropiación
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../configuration/kubeconfig/" title="Configurar context del cluster" class="md-nav__link">
      Configurar context del cluster
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Policies
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Policies" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Policies
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/limit-ranges/" title="Limit Ranges" class="md-nav__link">
      Limit Ranges
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/resource-quota/" title="Resource Quotas" class="md-nav__link">
      Resource Quotas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../policies/security-policies/" title="Pod Security Policies" class="md-nav__link">
      Pod Security Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Security
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Security" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Security
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/cloud-security/" title="Cloud Native Security" class="md-nav__link">
      Cloud Native Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/service-account/" title="ServiceAccount" class="md-nav__link">
      ServiceAccount
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/rbac/" title="RBAC" class="md-nav__link">
      RBAC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/security-context/" title="Security Context" class="md-nav__link">
      Security Context
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Scheduling & Eviction
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Scheduling & Eviction" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Scheduling & Eviction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../scheduling/scheduler/" title="Kubernetes Scheduler" class="md-nav__link">
      Kubernetes Scheduler
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../scheduling/taints-tolerations/" title="Taints & Tolerations" class="md-nav__link">
      Taints & Tolerations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../scheduling/assign-pods/" title="Asignar Pods a nodos" class="md-nav__link">
      Asignar Pods a nodos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../CKA" title="Cluster Administration" class="md-nav__link">
      Cluster Administration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Monitorización y Debugging
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Monitorización y Debugging" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Monitorización y Debugging
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../monitoring/debugging/" title="Debugging" class="md-nav__link">
      Debugging
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Comandos kubectl
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Comandos kubectl" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Comandos kubectl
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../kubectl/imperative/" title="Creación imperativa de recursos" class="md-nav__link">
      Creación imperativa de recursos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../kubectl/edit-patch/" title="Editar/Actualizar recursos" class="md-nav__link">
      Editar/Actualizar recursos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../other/json-path/" title="JSON Path" class="md-nav__link">
      JSON Path
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tipos-de-service" class="md-nav__link">
    Tipos de Service
  </a>
  
    <nav class="md-nav" aria-label="Tipos de Service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clusterip" class="md-nav__link">
    ClusterIP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeport" class="md-nav__link">
    NodePort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loadbalancer" class="md-nav__link">
    LoadBalancer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#externalname" class="md-nav__link">
    ExternalName
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#headless-service" class="md-nav__link">
    Headless Service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-discovery" class="md-nav__link">
    Service Discovery
  </a>
  
    <nav class="md-nav" aria-label="Service Discovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variables-de-entorno" class="md-nav__link">
    Variables de entorno
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns" class="md-nav__link">
    DNS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#service-topology" class="md-nav__link">
    Service Topology
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="service">Service</h1>
<p>Los <strong>Services</strong> permiten abstraer los conjuntos de Pods que ejecutan una
aplicación, para exponerlos como un único servicio de red.</p>
<p>Dada la naturaleza efímera de los Pods, es complicado para los clientes y otros
servicios, conectarse a ellos (las IP de los Pods no son siempre las mismas).</p>
<p>Los <strong>Services</strong> solventan este problema, ofreciendo una única dirección IP
virtual y un registro DNS para acceder a un grupo de Pods. De esta forma, también
ofrece la posibilidad de balancear la carga entre esos Pods y evita tener
que acoplar un Service Discovery al código fuente de las aplicaciones.</p>
<p>Mediante un Selector, el <strong>Service</strong> identifica qué Pods debe exponer, pudiendo
detectar cuando se levanta un nuevo Pod que deba ser expuesto. Cuando detecta un
nuevo Pod, registra su IP en el objeto <strong>Endpoints</strong> del <strong>Service</strong>. </p>
<p>Una vez el <strong>Service</strong> detecta un nuevo Pod con la misma Label que su Selector, </p>
<div class="admonition note">
<p class="admonition-title">Notas</p>
<ul>
<li>En la stanza <code>ports</code> se definen los puertos que va a exponer el
<strong>Service</strong>. Se pueden indicar valores numéricos o el nombre de los puertos
definidos en el Pod. Esto último da flexibilidad al Pod para modificar por
qué puerto expone un servicio.</li>
<li>El campo <code>port</code> indica por qué puerto del <strong>Service</strong> se expone un
servicio, mientras que el <code>targetPort</code>, es el puerto por el que la
aplicación se expone en el Pod. El <code>nodePort</code> es el puerto del nodo, en el
que se expone un servicio, si el <strong>Service</strong> es de tipo <code>NodePort</code>.</li>
<li>Si una aplicación expone varios puertos en un Pod, se pueden configurar 
también en el <strong>Service</strong>, pero hay que darles nombre, para evitar
ambigüedades.</li>
<li>Se puede asignar manualmente la IP virtual con el campo <code>.spec.clusterIP</code>.</li>
<li>Se se deja la stanza <code>.spec.selector</code> en blanco, se deberá configurar
el recurso <code>Endpoints</code> manualmente (p.ej. para redireccionar a
servicios externos).</li>
<li>Cualquier tipo de <strong>Service</strong> puede exponerse hacia fuera del cluster, si
se añade el array <code>.spec.externalIPs</code> con alguna de las IPs externas del
cluster (p.ej. la IP de uno de los nodos).</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Ejemplo</p>
<p><strong>Service:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-service</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MyApp</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
      <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
      <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">9376</span>
</code></pre></div></p>
<p><strong>Endpoint</strong> con dos Pods:  <em>(Se genera automáticamente)</em>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Endpoints</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-service</span>
<span class="nt">subsets</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">addresses</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">192.0.2.42</span>
      <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">192.0.4.21</span>
    <span class="nt">ports</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">9376</span>
</code></pre></div></p>
</div>
<h3 id="tipos-de-service">Tipos de Service</h3>
<p>Existen varias formas de exponer las aplicaciones en Kubernetes. Para ello hay
varios tipos de <strong>Service</strong> que se indican con la stanza <code>.spec.type</code>:</p>
<ul>
<li><a href="#clusterip"><code>ClusterIP</code></a> <em>(Por defecto)</em></li>
<li><a href="#nodeport"><code>NodePort</code></a></li>
<li><a href="#loadbalancer"><code>LoadBalancer</code></a></li>
<li><a href="#externalname"><code>ExternalName</code></a></li>
<li><a href="#headless-service"><code>Headless Service</code></a></li>
</ul>
<h4 id="clusterip">ClusterIP</h4>
<p>Este tipo de <strong>Service</strong> expone los Pods a través de una IP interna, únicamente
accesible desde dentro del cluster.</p>
<h4 id="nodeport">NodePort</h4>
<p>Con este <strong>Service</strong> se exponen los Pods a través de un puerto estático y de la
IP de cada nodo del cluster. De esta forma los Pods son accesibles desde fuera del
cluster con <code>IP_nodo:NodePort</code>.</p>
<div class="admonition note">
<p class="admonition-title">Notas</p>
<ul>
<li>Para configurar el puerto estático de los nodos en los que exponer el
<strong>Service</strong> (en todos los nodos el mismo puerto), se debe indicar en el
campo <code>.spec.ports[*].nodePort</code>. (Puertos válidos: 30000-32767)</li>
<li>Estos <strong>Service</strong> son accesibles tanto desde fuera del cluster
(<code>IP_nodo:NodePort</code>), como desde dentro (<code>.spec.clusterIP:spec.ports[*].port</code>).</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Ejemplo</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-service</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NodePort</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MyApp</span>
  <span class="nt">ports</span><span class="p">:</span>
      <span class="c1"># By default and for convenience, the `targetPort` is set to the same value as the `port` field.</span>
    <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
      <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
      <span class="c1"># Optional field</span>
      <span class="c1"># By default and for convenience, the Kubernetes control plane will allocate a port from a range (default: 30000-32767)</span>
      <span class="nt">nodePort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30007</span>
</code></pre></div>

</div>
<h4 id="loadbalancer">LoadBalancer</h4>
<p>Este <strong>Service</strong> se puede utilizar en los proveedores Cloud para que aprovisione
un Loadbalancer y así exponer los Pods hacia el exterior a través de una única
IP.</p>
<p>En función del proveedor Cloud, se pueden añadir <code>annotations</code> adicionales, que
configuren ciertas características del Loadbalancer aprovisionado.</p>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>En este tipo de <strong>Service</strong> todos los puertos expuestos deben utilizar el
mismo protocolo y solo puede ser <code>TCP</code>, <code>UDP</code> o <code>SCTP</code>.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Ejemplo</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-service</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MyApp</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
      <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
      <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">9376</span>
  <span class="nt">clusterIP</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.171.239</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<span class="nt">status</span><span class="p">:</span>
  <span class="nt">loadBalancer</span><span class="p">:</span>
    <span class="nt">ingress</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">192.0.2.127</span>
</code></pre></div>

</div>
<h4 id="externalname">ExternalName</h4>
<p>Este tipo de <strong>Service</strong> se utiliza para redireccionar a un nombre DNS de otro
servicio. En el DNS en vez de generarse un registro <code>A</code> con la IP de un Pod, se
genera un registro <code>CNAME</code>.</p>
<div class="admonition error">
<p class="admonition-title">Cuidado!</p>
<p>Este tipo de <strong>Service</strong> puede dar problemas con las cabeceras HTTP que hagan
referencia al "hostname" (p.ej. al comprobar un certificado SSL). </p>
</div>
<div class="admonition example">
<p class="admonition-title">Ejemplo</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-service</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">prod</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ExternalName</span>
  <span class="nt">externalName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my.database.example.com</span>
</code></pre></div>

</div>
<h4 id="headless-service">Headless Service</h4>
<p>Estos <strong>Service</strong> se indican con <code>.spec.type: None</code>. Kubernetes no les asigna
una ClusterIP, el <strong>kube-proxy</strong> no opera con ellos y no se realiza ningún
tipo de balanceo de carga o proxy.</p>
<p>El DNS se configura en función de si se ha indicado Selector o no:</p>
<ul>
<li>
<p><strong>Con Selector:</strong> Se genera el <strong>Endpoints</strong> con las IP de los Pods y se generan
registros DNS para que apunten directamente a cada uno de los Pods.</p>
</li>
<li>
<p><strong>Sin Selector:</strong> No se genera el <strong>Endpoints</strong>.</p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Información</p>
<p>Cuando en alguno de los otros tipos de <strong>Service</strong>, no se especifica
un Selector, el DNS genera los siguientes registros:</p>
<ul>
<li>Registro <code>CNAME</code> para los <strong>Service</strong> de tipo <code>ExternalName</code>.</li>
<li>Registro <code>A</code> por cada Pod del <strong>Endpoints</strong>, si se encuentra
un <strong>Endpoints</strong> con el mismo nombre que el <strong>Service</strong>.</li>
</ul>
</div>
<p>Este tipo de <strong>Service</strong> se puede utilizar como interfaz para otros mecanismo de
Service Discovery. </p>
<p>También se suelen utilizar en los <strong>StatefulSet</strong>, por ejemplo para desplegar
una base de datos con topología "master-slave". En este tipo de despliegues, las
peticiones de escritura se suelen mandar únicamente a la instancia <em>master</em>.</p>
<p>Con el resto de  <strong>Services</strong>, no se podría realizar esta operación, porque las
peticiones se balancearían entre todas las instáncias que expusiera el
<strong>Service</strong>.</p>
<p>Esta operación tampoco se podría realizar atacando directamente a
la IP del Pod, ya que esta se genera de forma dinámica cada vez que se crea el
Pod, ni tampoco su DNS, ya que en el dominio contiene la IP del Pod.</p>
<p>Por ello se utilizan los <strong>Headless Service</strong>, para proporcionar un dominio
independiente a cada uno de los Pods del estilo:
<div class="highlight"><pre><span></span><code>&lt;pod-name&gt;.&lt;headless-service-name&gt;.&lt;namespace&gt;.svc.cluster.local
</code></pre></div></p>
<h3 id="service-discovery">Service Discovery</h3>
<p>Existen dos formas en las que se pueden obtener los datos de un <strong>Service</strong>:</p>
<h4 id="variables-de-entorno">Variables de entorno</h4>
<p>Cuando se crea un Pod, el <strong>kubelet</strong> añade la IP y
los puertos de los <strong>Services</strong> disponibles en ese momento, como variables de
entorno dentro del Pod.</p>
<p>Si se desea desactivar esta funcionalidad, se debe indicar en la definición del
Pod con la propiedad <code>.spec.enableServiceLinks</code> a <code>false</code>.</p>
<h4 id="dns">DNS</h4>
<p>El servidor DNS del cluster CoreDNS, consulta la API de Kubernetes en
busca de nuevos <strong>Services</strong> y crea un nuevo registro DNS para cada uno de
ellos, con la forma <code>nombre_servicio.nombre_namespace</code> y que resolverá a la
<code>ClusterIP</code> del <strong>Service</strong>.</p>
<p>Este registro podrá ser resuelto por todos los Pods del cluster. Los Pods del
mismo Namespace, pueden resolver simplemente con <code>nombre_servicio</code>.</p>
<p>CoreDNS también admite registros SRV, por lo que si un <strong>Service</strong> tiene varios
puertos con un nombre asignado, se podría obtener la IP y puerto del
<strong>Service</strong>, con el registro
<code>_nombre_puerto._tcp.objects/pods/#variables-de-entorno</code>.</p>
<h3 id="service-topology">Service Topology</h3>
<p>Existe la posibilidad configurar la preferencia o limitar qué <strong>Endpoints</strong>
reciben las peticiones de un <strong>Service</strong>, en función del nodo en el que estén
desplegados. </p>
<p>Mediante el campo <code>.spec.topologyKeys</code>, se puede indicar las Labels de los nodos
con <strong>Endpoints</strong> que tienen preferencia.</p>
<p>Esto es útil para limitar el tráfico entre zonas, ya que la mayoría de
proveedores Cloud cobran un extra por ese tráfico, dando prioridad a los nodos
más cercanos y evitando así costes adicionales y reducir latencias.</p>
<div class="admonition note">
<p class="admonition-title">Notas</p>
<ul>
<li>Actualmente solo se permite utilizar las Labels
<code>"kubernetes.io/hostname"</code>, <code>"topology.kubernetes.io/zone"</code> y
<code>topology.kubernetes.io/region"</code>.</li>
<li>El valor <code>"*"</code> sirve para hacer un "catch-all" al final de las <code>topologyKeys</code>.</li>
<li>Esta funcionalidad es incompatible con el uso de <code>externalTrafficPolicy=Local</code>.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Ejemplos</p>
<ul>
<li>
<p>Limitar a <strong>Endpoints</strong> del nodo local:
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-service</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-app</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
      <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
      <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">9376</span>
  <span class="nt">topologyKeys</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;kubernetes.io/hostname&quot;</span>
</code></pre></div></p>
</li>
<li>
<p>Preferencia de nodos en el siguiente orden: nodo local, zona local, región local:
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-service</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-app</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
      <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
      <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">9376</span>
  <span class="nt">topologyKeys</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;kubernetes.io/hostname&quot;</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;topology.kubernetes.io/zone&quot;</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;topology.kubernetes.io/region&quot;</span>
    <span class="p p-Indicator">-</span> <span class="s">&quot;*&quot;</span>
</code></pre></div></p>
</li>
</ul>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../objects/controllers/" title="Controllers" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Controllers
              </div>
            </div>
          </a>
        
        
          <a href="../endpoint/" title="EndpointSlices" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                EndpointSlices
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.b39636ac.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>